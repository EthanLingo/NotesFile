


tags: #日期/2023-09-09 #类型/笔记 #内容/Unity #类型/AI问答笔记 



> [!attention]
> 以下由AI回答，不保证正确性！



梳理下C#中的赋值运算符"="对不同类型的赋值行为:

值类型(struct): 复制赋值
基本类型(int, float等):复制值
结构体(struct):复制整个结构体
枚举类型:复制枚举值
引用类型(class): 引用赋值
类(class):赋值引用,指向同一对象
字符串(string):赋值引用
数组(array):复制数组,深度拷贝
委托(delegate):赋值引用
对象(object):赋值引用
指针类型(如`int*`): 复制指针引用
`List`、`ArrayList` 赋值:引用赋值,共享同一个对象
`NativeArray`: 深度复制数组

所以:

值类型总是复制赋值;
引用类型通常是引用赋值,特例是数组和字符串会复制;
指针和NativeArray复制引用。

这个需要区分值类型和引用类型的差异。

数组 although 是一个引用类型,但其赋值语义被特殊处理,会深拷贝。

所以要根据类型特点来判断赋值的语义。